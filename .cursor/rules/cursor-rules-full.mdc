---
description: Полные правила проекта (до 150 строк) — стиль, тесты, примеры
globs:
alwaysApply: false
---

# Полные правила — AI-Coding в Cursor

## Стек и окружение

- Языки: JavaScript/TypeScript (или Python, Go — подставь свой стек)
- Фреймворки: React, Node.js (или актуальные для проекта)
- Версии: зафиксированы в package.json / requirements.txt
- AI не предлагает другой фреймворк без явного запроса

## Стиль кода

- Форматирование: Prettier (или встроенный форматтер по стеку)
- Линтер: ESLint (или аналог)
- Переменные/функции: camelCase
- Компоненты/классы: PascalCase
- Константы: UPPER_SNAKE_CASE
- Импорты: сортировка (внешние → внутренние)

## Запреты для AI без явного согласия

- Коммитить, пушить, создавать ветки
- Менять конфиги prod, env, secrets
- Деплоить на production
- Удалять тесты, линтер, проверки типов
- Менять зависимости (package.json и т.д.)
- Отключать pre-commit или CI

## Формат PR

В описании PR обязательно:
1. **Что сделано** — кратко
2. **Как проверить** — шаги
3. **Риски** — что может сломаться
4. **Связанные задачи** — ссылка, если есть

## Требования к тестам

- Unit-тесты: утилиты, сервисы, чистые функции — обязательно
- Интеграционные: API, критичные сценарии — по необходимости
- Охват: ориентир 70%+ для критичного кода (по договорённости)
- Тесты не фейковые: должны ловить регресс
- AI пишет тесты по спецификации — человек проверяет адекватность

## Архитектура

- Бизнес-логика не в UI
- Зависимости: явные импорты, без циклических
- Документация: ARCHITECTURE.md, ADR для решений

## Работа с AI

- Chat — объяснения, ответы, фрагменты кода
- Agent/Composer — изменения в нескольких файлах
- Контекст: давать минимум нужного; лишний контекст ухудшает ответы
- После изменений: запуск + линтер + тесты — обязательно

## Ссылки

- Правила команды: `docs/AI_WORKFLOW.md`
- Архитектура: `docs/ARCHITECTURE.md` (если есть)
- ADR: `docs/adr/` (если есть)
